---
alwaysApply: true
---

# 開發流程與工作流程

## 開發環境設定

### 前端設定
```bash
cd alumni-platform
pnpm install          # 安裝依賴（首次或更新 package.json 後執行）
pnpm dev              # 啟動開發伺服器（http://localhost:5173）
pnpm build            # 建置正式環境版本
pnpm lint             # 執行 ESLint 檢查
```

### 後端設定
```bash
cd alumni_platform_api
python3 -m venv venv                    # 建立虛擬環境（首次）
source venv/bin/activate                # 啟用虛擬環境
pip install -r requirements.txt         # 安裝依賴
python src/main_v2.py                   # 啟動 API 伺服器（http://localhost:5001）
```

## 快速啟動腳本
- `make dev` 或 `scripts/dev_up.sh` - 同時啟動前後端開發伺服器
- `make down` 或 `scripts/dev_down.sh` - 停止所有開發伺服器

## 測試與品質檢查
- **前端 Lint**：`cd alumni-platform && pnpm lint`（PR 前必須通過）
- **手動測試**：驗證核心功能（登入、職缺、活動流程）
- **資料庫種子**：測試帳號資訊記載於 [README.md](mdc:README.md)

## 建置與部署流程
1. **前端建置**：`cd alumni-platform && pnpm build`
2. **複製靜態檔案**：建置產物自動複製到 `alumni_platform_api/static/`
3. **部署腳本**：參考 [deploy.sh](mdc:deploy.sh)
4. **注意**：不要直接編輯 `dist/` 或 `alumni_platform_api/static/` 內的檔案

## Git 工作流程
- **分支策略**：從 `main` 分支建立功能分支
- **Commit 訊息**：使用祈使句，簡潔描述（如 `✨ Add job search filters`）
- **Commit 內容**：
  - 主旨：簡短描述（50 字元內）
  - 本文：詳細說明、相關議題、驗證步驟
- **Pull Request**：
  - 說明變更範圍（受影響的路由/元件）
  - 資料庫結構變更需特別註明
  - UI 變更附上截圖
  - 包含測試步驟

## 開發注意事項
- 新增依賴時更新對應的 `requirements.txt` 或 `package.json`
- 更改資料庫模型後需要重新初始化或執行遷移
- 環境變數變更時更新 `.env.example`
- 重要工作流程變更時更新 [project_documentation.md](mdc:project_documentation.md)
- 不要將測試帳號密碼提交到版本控制（應記載於文檔中）

## 除錯技巧
- **前端**：使用瀏覽器開發者工具的 Console 和 Network 標籤
- **後端**：查看 `backend-dev.log` 日誌檔案
- **API 測試**：使用 Postman 或 curl 測試端點
- **資料庫檢查**：使用 SQLite 瀏覽器工具檢視 `src/database/app_v2.db`
